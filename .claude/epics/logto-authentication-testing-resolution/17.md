---
name: Configuration Fix - Redirect URI and Environment Validation
status: open
created: 2025-09-13T14:34:17Z
updated: 2025-09-13T15:10:47Z
github: https://github.com/julesintime/net-ecosystem-platform-max/issues/17
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Configuration Fix - Redirect URI and Environment Validation

## Description
Fix the critical redirect URI mismatch causing OAuth flow failures and implement comprehensive environment variable validation. The current error shows Logto expects `/callback` but the app uses `/api/logto/callback`. Additionally, validate all required environment variables are properly configured.

## Acceptance Criteria
- [ ] Logto redirect URI configuration updated to match actual endpoint (`/api/logto/callback`)
- [ ] All environment variables validated and documented
- [ ] Environment variable validation utility created
- [ ] OAuth authentication flow works without redirect errors
- [ ] Configuration validation runs on application startup

## Technical Details
- **Primary Issue**: Redirect URI mismatch in Logto configuration
- **Current Error**: `redirect_uri did not match any of the client's registered redirect_uris`
- **Expected URI**: `http://localhost:6789/api/logto/callback` 
- **Files Affected**: `.env.local`, `lib/auth/logto-config.ts`
- **Implementation**: Update Logto admin console configuration and validate env vars

## Dependencies
- [ ] Access to Logto admin console (z3zlta.logto.app)
- [ ] Development environment configuration

## Effort Estimate
- Size: S
- Hours: 4
- Parallel: true (independent of other tasks)

## Definition of Done
- [ ] Redirect URI updated in Logto admin console
- [ ] Environment validation utility implemented
- [ ] All environment variables validated and documented
- [ ] OAuth flow tested and working
- [ ] No authentication redirect errors in development

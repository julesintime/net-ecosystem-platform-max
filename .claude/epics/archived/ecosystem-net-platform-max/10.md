---
title: "Organization Template Configuration in Logto Admin"
epic: "ecosystem-net-platform-max"
status: "completed"
priority: "high"
assignee: "claude"
created_at: "2025-09-13T00:42:30Z"
updated_at: "2025-09-13T10:14:09Z" 
github: "https://github.com/julesintime/net-ecosystem-platform-max/issues/10"
depends_on: ["9"]
parallel: false
tags: ["logto", "admin", "organizations", "roles", "permissions"]
estimated_hours: 3
---

# Organization Template Configuration in Logto Admin

## Overview
Configure organization templates in Logto admin console with predefined roles and permissions, set up multi-tenant authentication flows, and validate role mapping for application requirements.

## Objectives
- Configure organization template with predefined roles in Logto admin
- Set up admin, member, guest roles with appropriate permissions
- Define organization-scoped permissions for business logic
- Configure sign-in experience with social/email providers
- Validate role/permission mapping for application requirements

## Tasks

### 1. Access Logto Admin Console
- [ ] Access Logto admin console with appropriate credentials
- [ ] Navigate to Organizations section
- [ ] Locate organization template configuration

### 2. Create Organization Template
- [ ] Create new organization template for the platform
- [ ] Configure template name and description
- [ ] Set up template as default for new organizations
- [ ] Configure organization creation permissions

### 3. Define Role Hierarchy
- [ ] Create **Admin** role with full organization management permissions:
  - Organization settings management
  - User invitation and removal
  - Role assignment and modification
  - Application and resource access control
- [ ] Create **Member** role with standard user permissions:
  - Access to organization resources
  - Basic profile management
  - Read access to organization information
- [ ] Create **Guest** role with limited permissions:
  - View-only access to public resources
  - Limited profile information access
  - No organization management capabilities

### 4. Configure Organization-Scoped Permissions
- [ ] Set up permissions for platform-specific business logic:
  - **inbox:read** - Access to communication hub
  - **inbox:write** - Create and respond to messages
  - **library:read** - View templates and assets
  - **library:write** - Create and modify templates
  - **catalog:browse** - Browse app marketplace
  - **catalog:install** - Install marketplace apps
  - **profile:read** - View organization profiles
  - **profile:manage** - Manage organization settings

### 5. Map Roles to Permissions
- [ ] **Admin role permissions**:
  - All inbox, library, catalog, and profile permissions
  - Organization management capabilities
  - User and role management
- [ ] **Member role permissions**:
  - inbox:read, inbox:write
  - library:read, library:write
  - catalog:browse, catalog:install
  - profile:read
- [ ] **Guest role permissions**:
  - inbox:read
  - library:read
  - catalog:browse
  - profile:read (limited)

### 6. Configure Sign-in Experience
- [ ] Set up social providers:
  - Google authentication
  - GitHub authentication (if applicable)
  - Microsoft authentication (if applicable)
- [ ] Configure email/password authentication:
  - Email verification flow
  - Password requirements and policies
  - Account recovery options
- [ ] Customize sign-in page branding and messaging
- [ ] Configure consent screens and terms of service

### 7. Set Organization Invitation Flow
- [ ] Configure organization invitation templates
- [ ] Set up invitation email templates
- [ ] Define invitation expiration policies
- [ ] Configure role assignment during invitation acceptance

### 8. Application Integration Settings
- [ ] Configure application-specific settings in Logto:
  - Redirect URIs for Next.js app
  - Allowed origins and CORS settings
  - Token expiration policies
  - Refresh token configuration
- [ ] Set up API resource permissions
- [ ] Configure organization context in JWT tokens

### 9. Testing and Validation
- [ ] Create test organization using the template
- [ ] Test role assignment and permission inheritance
- [ ] Validate sign-in experience with different providers
- [ ] Test organization invitation and acceptance flow
- [ ] Verify JWT token contains proper organization context
- [ ] Test permission validation in application context

## Acceptance Criteria
- [ ] Organization template is created with admin, member, guest roles
- [ ] Each role has appropriate permissions mapped for business logic
- [ ] Organization-scoped permissions are properly defined
- [ ] Sign-in experience is configured with social and email providers
- [ ] Role/permission mapping works correctly with application requirements
- [ ] Organization invitation flow functions properly
- [ ] JWT tokens contain necessary organization and role information
- [ ] All authentication flows are tested and validated

## Technical Notes
- Document all permission mappings for development team reference
- Ensure organization IDs are properly included in authentication tokens
- Configure appropriate token expiration times for security
- Set up proper role inheritance if hierarchical permissions are needed
- Consider future scalability for additional roles and permissions

## Dependencies
- Logto tenant must be properly configured
- Task 9 (SDK Integration) should be completed for end-to-end testing
- Access to Logto admin console with organization management permissions

## Risks & Mitigations
- **Risk**: Misconfigured permissions leading to security issues
  - **Mitigation**: Thoroughly test all role/permission combinations
- **Risk**: Social provider configuration issues
  - **Mitigation**: Test each provider individually and document setup steps
- **Risk**: Organization context not properly included in tokens
  - **Mitigation**: Validate token structure and test with application integration
- **Risk**: Invitation flow not working as expected
  - **Mitigation**: Test complete invitation workflow with test users